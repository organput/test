{"version":3,"file":"js/register.6f4dc170.js","mappings":"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","sources":["webpack://jingdong/./src/effects/cartEffects.js","webpack://jingdong/./src/components/Toast.vue","webpack://jingdong/./src/components/Toast.vue?44c7","webpack://jingdong/./src/views/cartList/CartList.vue","webpack://jingdong/./src/views/cartList/CartList.vue?ff89","webpack://jingdong/./src/views/login/Register.vue","webpack://jingdong/./src/views/login/Register.vue?f79a","webpack://jingdong/./src/views/order/OrderPage.vue","webpack://jingdong/./src/views/order/TopArea.vue","webpack://jingdong/./src/views/order/TopArea.vue?12a6","webpack://jingdong/./src/views/order/ProductList.vue","webpack://jingdong/./src/views/order/ProductList.vue?aa31","webpack://jingdong/./src/views/order/OrderView.vue","webpack://jingdong/./src/views/order/OrderView.vue?4bfe","webpack://jingdong/./src/views/order/OrderPage.vue?0029"],"sourcesContent":["import { useStore } from 'vuex'\r\nimport { toRefs, computed } from 'vue'\r\n\r\nexport const useCommonCartEffect = (id) => {\r\n  const store = useStore()\r\n  const { cartList } = toRefs(store.state)\r\n  const changeCartItemInfo = (id, itemId, productInfo, num) => {\r\n    store.commit('changeCartItemInfo', {\r\n      id, itemId, productInfo, num\r\n    })\r\n    // console.log(cartList)\r\n  }\r\n  const products = computed(() => {\r\n    const productList = cartList.value[id]?.productList\r\n    return productList\r\n  })\r\n  const shopName = computed(() => {\r\n    const name = cartList.value[id]?.shopName\r\n    return name\r\n  })\r\n  const calculations = computed(() => {\r\n    const productList = cartList.value[id]?.productList\r\n    let total = 0\r\n    let price = 0\r\n    if (productList) {\r\n      for (const i in productList) {\r\n        total += productList[i].count\r\n        if (productList[i].check) {\r\n          price += (productList[i].count * productList[i].price)\r\n        }\r\n      }\r\n    }\r\n    price = price.toFixed(2)\r\n    return { total, price }\r\n  })\r\n  return { cartList, changeCartItemInfo, products, shopName, calculations }\r\n}\r\n","<template>\r\n  <div class=\"toast\">{{ message }}</div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nexport default {\r\n  name: 'ToastView',\r\n  props: ['message']\r\n}\r\nexport const useToastEffect = () => {\r\n  const toastData = reactive({\r\n    showToast: false,\r\n    message: ''\r\n  })\r\n  const changeToast = (value) => {\r\n    toastData.showToast = true\r\n    toastData.message = value\r\n    setTimeout(() => {\r\n      toastData.showToast = false\r\n      toastData.message = ''\r\n    }, 2000)\r\n  }\r\n  const { showToast, message } = toRefs(toastData)\r\n  return { showToast, message, changeToast }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../style/viriables.scss';\r\n.toast {\r\n  position: fixed;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  padding: .1rem;\r\n  background: rgba(0, 0, 0, 0.35);\r\n  border-radius: .05rem;\r\n  color: $bgColor;\r\n}\r\n</style>\r\n","import { render } from \"./Toast.vue?vue&type=template&id=25cc2708&scoped=true\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\n\nimport \"./Toast.vue?vue&type=style&index=0&id=25cc2708&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-25cc2708\"]])\n\nexport default __exports__","<template>\r\n  <div>cartList</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'CartList'\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n","import { render } from \"./CartList.vue?vue&type=template&id=412187d4\"\nimport script from \"./CartList.vue?vue&type=script&lang=js\"\nexport * from \"./CartList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"wrapper\">\r\n    <img class=\"wrapper__img\" src=\"http://www.dell-lee.com/imgs/vue3/user.png\">\r\n    <div class=\"wrapper__input\">\r\n      <input class=\"wrapper__input__content\" placeholder=\"请输入用户名\"\r\n      v-model=\"userName\"/>\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input class=\"wrapper__input__content\" placeholder=\"请输入密码\" type=\"password\"\r\n      v-model=\"password\"/>\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input class=\"wrapper__input__content\" placeholder=\"确认密码\" type=\"password\"\r\n      v-model=\"checkpassword\"/>\r\n    </div>\r\n    <div class=\"wrapper__register-button\" @click=\"handleRegister\">注册</div>\r\n    <div class=\"wrapper__register-link\" @click=\"handleLoginClick\">已有账号，去登陆</div>\r\n    <ToastView v-if=\"showToast\" :message=\"message\"></ToastView>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter } from 'vue-router'\r\nimport { reactive, toRefs } from 'vue'\r\nimport { post } from '../../untils/request.js'\r\nimport ToastView, { useToastEffect } from '../../components/Toast'\r\n\r\nconst useRegisterEffect = (changeToast) => {\r\n  const data = reactive({\r\n    userName: '',\r\n    password: '',\r\n    checkpassword: ''\r\n  })\r\n  const router = useRouter()\r\n  const handleRegister = async () => {\r\n    const { userName, password, checkpassword } = toRefs(data)\r\n    if (userName.value === '' || password.value === '') {\r\n      changeToast('用户名或密码不能为空')\r\n      return\r\n    } else if (password.value !== checkpassword.value) {\r\n      changeToast('两次输入密码不同')\r\n      return\r\n    }\r\n    try {\r\n      const result = await post('api/user/Login', {\r\n        userName: data.userName,\r\n        password: data.password\r\n      })\r\n      if (result?.data?.userId === '12345') {\r\n        localStorage.isLogin = true\r\n        router.push({ name: 'Home' })\r\n      } else {\r\n        changeToast('注册失败')\r\n      }\r\n    } catch (e) {\r\n      changeToast('请求失败')\r\n    }\r\n  }\r\n\r\n  const { userName, password, checkpassword } = toRefs(data)\r\n  return { userName, password, checkpassword, handleRegister }\r\n}\r\n\r\nconst useLoginEffect = () => {\r\n  const router = useRouter()\r\n  const handleLoginClick = () => {\r\n    router.push({ name: 'Login' })\r\n  }\r\n  return { handleLoginClick }\r\n}\r\n\r\nexport default {\r\n  name: 'RegisterPage',\r\n  components: { ToastView },\r\n  setup () {\r\n    const { showToast, message, changeToast } = useToastEffect()\r\n    const { userName, password, checkpassword, handleRegister } = useRegisterEffect(changeToast)\r\n    const { handleLoginClick } = useLoginEffect()\r\n    return { showToast, message, changeToast, userName, password, checkpassword, handleRegister, handleLoginClick }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n.wrapper {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0;\r\n  right: 0;\r\n  transform: translateY(-50%);\r\n  &__img {\r\n    display: block;\r\n    margin: 0 auto .4rem auto;\r\n    width: .66rem;\r\n    height: .66rem;\r\n  }\r\n  &__input {\r\n    height: .48rem;\r\n    margin: 0 .4rem .16rem .4rem;\r\n    padding: 0 .16rem;\r\n    background: #f9f9f9;\r\n    border: .01rem solid rgba(0, 0, 0, 0.1);\r\n    border-radius: .06rem;\r\n    &__content {\r\n      line-height: .48rem;\r\n      border: none;\r\n      outline: none;\r\n      width: 100%;\r\n      background: none;\r\n      font-size: .16rem;\r\n      color: $content-notice-fontColor;\r\n      &::placeholder {\r\n        color: $content-notice-fontColor;\r\n      }\r\n    }\r\n  }\r\n  &__register-button {\r\n    margin: .32rem .4rem .16rem .4rem;\r\n    background-color: $btn-bgColor;\r\n    box-shadow: 0 .04rem .08rem 0 rgba(0, 145, 255, 0.32);\r\n    border-radius: .04rem;\r\n    color: #f9f9f9;\r\n    line-height: .48rem;\r\n    font-size: .16rem;\r\n    text-align: center;\r\n  }\r\n  &__register-link {\r\n    text-align: center;\r\n    font-size: .14rem;\r\n    color: $content-notice-fontColor;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Register.vue?vue&type=template&id=4e59f323&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=4e59f323&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4e59f323\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"wrapper\">\r\n    <TopArea/>\r\n    <ProductList />\r\n    <OrderView />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TopArea from './TopArea'\r\nimport ProductList from './ProductList'\r\nimport OrderView from './OrderView'\r\n\r\nexport default {\r\n  name: 'OrderPage',\r\n  components: { TopArea, ProductList, OrderView }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n@import '../../style/mixins.scss';\r\n.wrapper {\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  background-color: #eee;\r\n}\r\n\r\n</style>\r\n","<template>\r\n  <div class=\"top\">\r\n    <div class=\"top__header\">\r\n      <div class=\"iconfont top__header__back\"\r\n      @click=\"handleBackClick\"\r\n      >&#xe601;</div>\r\n      确认订单\r\n    </div>\r\n    <div class=\"top__receiver\">\r\n      <div class=\"top__receiver__title\">收货地址</div>\r\n      <div class=\"top__receiver__address\">宣城工业大学合肥校区</div>\r\n      <div class=\"top__receiver__info\">\r\n        <span class=\"top__receiver__info__name\">张宇</span>\r\n        <span class=\"top__receiver__info__name\">11012010086</span>\r\n      </div>\r\n      <div class=\"iconfont top__receiver__enter\">&#xe601;</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter } from 'vue-router'\r\n\r\nexport default {\r\n  name: 'TopArea',\r\n  setup () {\r\n    const router = useRouter()\r\n    const handleBackClick = () => {\r\n      router.back()\r\n    }\r\n    return { handleBackClick }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n@import '../../style/mixins.scss';\r\n.top {\r\n  position: relative;\r\n  height: 1.96rem;\r\n  background-size: 100% 1.59rem;\r\n  background-image: linear-gradient(0deg, rgba(0, 145, 255, 0.00) 4%, $btn-bgColor 50%);\r\n  background-repeat: no-repeat;\r\n  &__header {\r\n    padding-top: .26rem;\r\n    line-height: .24rem;\r\n    color: $bgColor;\r\n    text-align: center;\r\n    position: relative;\r\n    font-size: .16rem;\r\n    &__back {\r\n      position: absolute;\r\n      left: .18rem;\r\n      font-size: .21rem;\r\n    }\r\n  }\r\n  &__receiver {\r\n    position: absolute;\r\n    left: .18rem;\r\n    right: .18rem;\r\n    bottom: 0;\r\n    height: 1.11rem;\r\n    background: $bgColor;\r\n    border-radius: .04rem;\r\n    &__title {\r\n      line-height: .22rem;\r\n      padding: .16rem 0 .14rem .16rem;\r\n      font-size: .16rem;\r\n      color: $content-fontColor;\r\n    }\r\n    &__address {\r\n      padding: 0 .4rem 0 .16rem;\r\n      font-size: .14rem;\r\n      color: $content-fontColor;\r\n      line-height: .2rem;\r\n    }\r\n    &__info {\r\n      padding: .06rem 0 0 .16rem;\r\n      &__name {\r\n        line-height: .18rem;\r\n        font-size: .12rem;\r\n        color: $midiumColor;\r\n        margin-right: .06rem;\r\n      }\r\n    }\r\n    &__enter {\r\n      position: absolute;\r\n      right: .16rem;\r\n      top: .51rem;\r\n      color: $midiumColor;\r\n      font-size: .16rem;\r\n      transform: rotate(180deg);\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./TopArea.vue?vue&type=template&id=7da32448&scoped=true\"\nimport script from \"./TopArea.vue?vue&type=script&lang=js\"\nexport * from \"./TopArea.vue?vue&type=script&lang=js\"\n\nimport \"./TopArea.vue?vue&type=style&index=0&id=7da32448&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7da32448\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"product\">\r\n    <div class=\"product__title\">{{ shopName }}</div>\r\n    <div class=\"product__wrapper\">\r\n      <div class=\"product__list\">\r\n        <div class=\"product__item\" v-for=\"item in products\" :key=\"item.id\">\r\n          <img class=\"product__item__img\" :src=\"item.imgUrl\">\r\n          <div class=\"product__item__detail\">\r\n            <h4 class=\"product__item__title\">{{ item.name }}</h4>\r\n            <p class=\"product__item__price\">\r\n              <span class=\"product__item__singlePrice\">\r\n                <span class=\"product__item__yen\">&yen; </span>\r\n                {{ item.price }} × {{ item.count }}\r\n              </span>\r\n              <span class=\"product__item__totalPrice\">\r\n                <span class=\"product__item__yen\">&yen; </span>\r\n                {{ (item.price * item.count).toFixed(2) }}\r\n              </span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRoute } from 'vue-router'\r\nimport { useCommonCartEffect } from '../../effects/cartEffects'\r\n\r\nexport default {\r\n  name: 'ProductList',\r\n  setup () {\r\n    const route = useRoute()\r\n    const id = route.params.id\r\n    const { products, shopName } = useCommonCartEffect(id)\r\n    return { products, shopName }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n@import '../../style/mixins.scss';\r\n.product {\r\n  margin: .16rem .18rem .1rem .18rem;\r\n  background-color: $bgColor;\r\n  &__wrapper {\r\n    position: absolute;\r\n    margin: 0 .18rem;\r\n    left: 0;\r\n    right: 0;\r\n    top: 2.46rem;\r\n    bottom: .6rem;\r\n    overflow-y: scroll;\r\n  }\r\n  &__title {\r\n    padding: .16rem .16rem 0 .16rem;\r\n    font-size: .16rem;\r\n    color: $content-fontColor;\r\n  }\r\n  &__list {\r\n    padding-bottom: .16rem;\r\n    background: $bgColor;\r\n  }\r\n  &__item {\r\n    position: relative;\r\n    display: flex;\r\n    padding: .16rem .16rem 0 .16rem;\r\n    &__detail {\r\n      flex: 1;\r\n    }\r\n    &__img {\r\n      width: .46rem;\r\n      height: .46rem;\r\n      margin-right: .16rem;\r\n    }\r\n    &__title {\r\n      margin: 0;\r\n      line-height: .2rem;\r\n      font-size: .14rem;\r\n      color: $content-fontColor;\r\n      @include ellipsis\r\n    }\r\n    &__price {\r\n      display: flex;\r\n      margin: .06rem 0 0 0;\r\n      line-height: .2rem;\r\n      font-size: .14rem;\r\n      color: $hightlight-color;\r\n    }\r\n    &__totalPrice {\r\n      flex: 1;\r\n      text-align: right;\r\n      color: #000;\r\n    }\r\n    &__yen {\r\n      font-size: .12rem;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./ProductList.vue?vue&type=template&id=5ac4f61f&scoped=true\"\nimport script from \"./ProductList.vue?vue&type=script&lang=js\"\nexport * from \"./ProductList.vue?vue&type=script&lang=js\"\n\nimport \"./ProductList.vue?vue&type=style&index=0&id=5ac4f61f&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5ac4f61f\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"order\">\r\n    <div class=\"order__price\">实付金额 <b>&yen;{{ calculations.price }}</b></div>\r\n    <div class=\"order__btn\"\r\n    @click=\"() => handleShowChange(true)\"\r\n    >提交订单</div>\r\n  </div>\r\n  <div class=\"mask\" v-show=\"isShowConf\"\r\n  @click=\"() => handleShowChange(false)\"\r\n  >\r\n    <div class=\"mask__content\" @click.stop>\r\n      <h3 class=\"mask__content__title\">确认要离开收银台？</h3>\r\n      <p class=\"mask__content__desc\">请尽快完成支付，否则将被取消</p>\r\n      <div class=\"mask__content__btns\">\r\n        <div class=\"mask__content__btn mask__content__btn--first\"\r\n        @click=\"() => handleConfOrder(true)\"\r\n        >取消订单</div>\r\n        <div class=\"mask__content__btn mask__content__btn--last\"\r\n        @click=\"() => handleConfOrder(false)\"\r\n        >确认支付</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport { useStore } from 'vuex'\r\nimport { ref } from 'vue'\r\nimport { useCommonCartEffect } from '../../effects/cartEffects'\r\nimport { post } from '../../untils/request.js'\r\n\r\nconst useMakeOrder = (products, shopName, id) => {\r\n  const router = useRouter()\r\n  const store = useStore()\r\n  const handleConfOrder = async (isCancel) => {\r\n    const productList = []\r\n    for (const i in products.value) {\r\n      const product = products.value[i]\r\n      productList.push({ id: product.id, num: product.count })\r\n    }\r\n    store.commit('handleConfOrder', { id, isCancel })\r\n    try {\r\n      const result = await post('/api/user/order', {\r\n        addressId: 1,\r\n        id,\r\n        shopName: shopName.value,\r\n        isCancel: isCancel,\r\n        productList\r\n      })\r\n      // console.log(result)\r\n      if (result?.errorno === 0) {\r\n        if (isCancel === false) {\r\n          store.commit('cleanCartProducts', { id })\r\n          router.push({ name: 'OrderList' })\r\n        } else {\r\n          router.push({ name: 'Home' })\r\n        }\r\n      }\r\n    } catch (e) {\r\n      // changeToast('请求失败')\r\n    }\r\n  }\r\n  return { handleConfOrder }\r\n}\r\n\r\nconst useShowConf = () => {\r\n  const isShowConf = ref(false)\r\n  const handleShowChange = (status) => {\r\n    isShowConf.value = status\r\n    console.log(isShowConf.value)\r\n  }\r\n  return { isShowConf, handleShowChange }\r\n}\r\n\r\nexport default {\r\n  name: 'OrderView',\r\n  setup () {\r\n    const route = useRoute()\r\n    const id = parseInt(route.params.id)\r\n    const { calculations, shopName, products } = useCommonCartEffect(id)\r\n    const { handleConfOrder } = useMakeOrder(products, shopName, id)\r\n    const { isShowConf, handleShowChange } = useShowConf()\r\n    return { isShowConf, calculations, handleConfOrder, handleShowChange }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n@import '../../style/mixins.scss';\r\n.order {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  display: flex;\r\n  height: .49rem;\r\n  align-items: center;\r\n  background: $bgColor;\r\n  &__price {\r\n    flex: 1;\r\n    text-indent: .24rem;\r\n    font-size: .14rem;\r\n  }\r\n  &__btn {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: .98rem;\r\n    height: .49rem;\r\n    background: #4fb0f9;\r\n    color: $bgColor;\r\n    font-size: .14rem;\r\n  }\r\n}\r\n.mask {\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  &__content {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    width: 3rem;\r\n    height: 1.56rem;\r\n    background: $bgColor;\r\n    border-radius: .04rem;\r\n    &__title {\r\n      font-size: .18rem;\r\n      color: $content-fontColor;\r\n      @include centerText;\r\n    }\r\n    &__desc {\r\n      margin-top: .08rem;\r\n      @include centerText;\r\n      color: $content-notice-fontColor;\r\n      font-size: .14rem;\r\n    }\r\n    &__btns {\r\n      display: flex;\r\n      margin: .24rem .4rem 0 .4rem;\r\n    }\r\n    &__btn {\r\n      @include centerText;\r\n      width: .9rem;\r\n      height: .32rem;\r\n      border-radius: .16rem;\r\n      &--first {\r\n        margin-right: .24rem;\r\n        border: .01rem solid #4fb0f9;\r\n        color: #4fb0f9;\r\n      }\r\n      &--last {\r\n        margin-left: .24rem;\r\n        background: #4fb0f9;\r\n        color: $bgColor;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./OrderView.vue?vue&type=template&id=629bf370&scoped=true\"\nimport script from \"./OrderView.vue?vue&type=script&lang=js\"\nexport * from \"./OrderView.vue?vue&type=script&lang=js\"\n\nimport \"./OrderView.vue?vue&type=style&index=0&id=629bf370&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-629bf370\"]])\n\nexport default __exports__","import { render } from \"./OrderPage.vue?vue&type=template&id=0bdd5cc4&scoped=true\"\nimport script from \"./OrderPage.vue?vue&type=script&lang=js\"\nexport * from \"./OrderPage.vue?vue&type=script&lang=js\"\n\nimport \"./OrderPage.vue?vue&type=style&index=0&id=0bdd5cc4&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0bdd5cc4\"]])\n\nexport default __exports__"],"names":["useCommonCartEffect","id","store","useStore","cartList","toRefs","state","changeCartItemInfo","itemId","productInfo","num","commit","products","computed","productList","value","shopName","name","calculations","total","price","i","count","check","toFixed","class","_createElementBlock","_hoisted_1","_toDisplayString","$props","message","props","useToastEffect","toastData","reactive","showToast","changeToast","setTimeout","__exports__","render","_createElementVNode","src","_hoisted_2","_hoisted_3","placeholder","_cache","$event","$setup","userName","_hoisted_4","type","password","_hoisted_5","checkpassword","onClick","args","handleRegister","handleLoginClick","_createBlock","_component_ToastView","key","_createCommentVNode","useRegisterEffect","data","router","useRouter","async","result","post","userId","localStorage","isLogin","push","e","useLoginEffect","components","ToastView","setup","_createVNode","_component_TopArea","_component_ProductList","_component_OrderView","_createStaticVNode","handleBackClick","_createTextVNode","back","_Fragment","_renderList","item","imgUrl","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","route","useRoute","params","handleShowChange","_withModifiers","handleConfOrder","isShowConf","useMakeOrder","product","isCancel","addressId","errorno","useShowConf","ref","status","console","log","parseInt","TopArea","ProductList","OrderView"],"sourceRoot":""}